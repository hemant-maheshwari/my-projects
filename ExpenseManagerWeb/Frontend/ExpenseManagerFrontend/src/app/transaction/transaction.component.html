<body>
  <div id="transaction">
    <div class="container">
      <div id="padding-row">
        <div id="transaction-row" class="row justify-content-center align-items-center">
          <div id="transaction-column" class="col-md-8">
            <div id="transaction-box" class="shadow-lg rounded mt-lg-5 pb-3">
              <div class="text-center">
                <h2 class="h2 mt-lg-3 primary-color-blue-text">Add Transaction</h2>
              </div>
              <hr class="rounded w-75 secondary-color-yellow-background">
              <form id="transaction-form" [formGroup]="transactionForm" (ngSubmit)="onSubmit()" class="form pl-5">
                <div class="form-group">
                  <div class="row">
                    <div class="col-sm-8">
                      <label for="transactionTitle" class="primary-color-blue-text">Transaction Title: </label>
                      <input formControlName="title" id="transactionTitle" type="text" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.title.errors }" required/>
                      <div *ngIf="submitted && f.title.errors" class="invalid-feedback">
                        <div *ngIf="f.title.errors.required">This field is required</div>
                      </div>
                    </div>
                  </div>
                </div>
                <br>
                <div class="form-group">
                  <div class="row">
                    <div class="col-sm-8">
                      <label for="transactionType" class="primary-color-blue-text">Transaction Type: </label>
                      <select formControlName="type" class="form-control" id="transactionType" [ngClass]="{ 'is-invalid': submitted && f.type.errors }" required>
                        <option disabled selected value="">--select an option--</option>
                        <option *ngFor="let type of transactionTypes" [value]="type.value">
                          {{type.viewValue}}
                        </option>
                      </select>
                      <div>
                        <small *ngIf="f.type.value === 'Income'" class="form-text color-animation third-color-gray-text">{{incomeDescription}}</small>
                        <small *ngIf="f.type.value === 'Expense'" class="form-text color-animation third-color-gray-text">{{expenseDescription}}</small>
                      </div>
                      <div *ngIf="submitted && f.type.errors" class="invalid-feedback">
                        <div *ngIf="f.type.errors.required">Please select a transaction type</div>
                      </div>
                    </div>
                  </div>
                </div>
                <br>
                <div class="form-group">
                  <div class="row">
                    <div class="col-sm-8">
                      <label for="transactionAmount" class="primary-color-blue-text">Transaction Amount: </label>
                      <input formControlName="amount" id="transactionAmount" name="transactionAmount" type="text" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.amount.errors }" required/>
                      <div *ngIf="submitted && f.amount.errors" class="invalid-feedback">
                        <div *ngIf="f.amount.errors.pattern || f.amount.errors.required">Please enter a valid amount (..0.00)</div>
                      </div>
                    </div>
                  </div>
                </div>
                <br>
                <div class="form-group">
                  <div class="row">
                    <div class="col-sm-8">
                      <label for="transactionFriends" class="primary-color-blue-text">Select friends to add: </label>
                      <select multiple formControlName="shares" id="transactionFriends" name="transactionFriends" class="form-control"  [ngClass]="{ 'is-invalid': submitted && f.shares.errors }">
                        <option *ngFor="let friend of friendsSelect" value="{{friend.userId}}">{{friend.name}}</option>
                      </select>
                      <div class="figure-caption">
                        Press ctrl to select multiple
                      </div>
                    </div>
                  </div>
                </div>
                <!-- <br>
                <div class="form-group">
                  <div class="custom-file col-sm-8">
                    <input formControlName="picture" type="file"  accept="image/x-png,image/jpeg,image/jpg" class="custom-file-input" id="customFile" [ngClass]="{ 'is-invalid': submitted && f.picture.errors }">
                    <label class="custom-file-label" for="customFile">Upload a receipt</label>
                    <div *ngIf="submitted && f.picture.errors" class="invalid-feedback">
                      <div *ngIf="f.picture.errors.required">This field must be an image.</div>
                    </div>
                    <div class="figure-caption">
                      {{f.picture.value}}
                    </div>
                  </div>
                </div> -->
                <div class="form-group pt-lg-5">
                  <button [disabled]="loading" type="reset" name="cancel-button" class="btn btn-danger col-sm-2">Reset</button>
                  <div class="float-right col-sm-4">
                    <button [disabled]="loading" type="submit" name="change-password-button" class="btn primary-color-blue-background text-white col-sm-7">
                      <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                      Create
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
