<body>
  <div id="forgot-password">
    <img class="center-image" src="assets/images/LoginIcon.png" alt="Expense Manager Logo">
    <div class="container pb-lg-5">
      <div *ngIf="!user">
        <div id="forgot-password-row" class="row justify-content-center align-items-center">
          <div id="forgot-password-column" class="col-md-6">
            <div id="forgot-password-box" class="shadow-lg rounded">
              <form id="forgot-password-form" [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()" class="form">
                <div class="form-group">
                  <label for="email" class="primary-color-blue-text text-sm-left">Enter your email</label>
                  <input formControlName="email" type="email" name="email" id="email" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.email.errors }" required>
                  <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
                    <div *ngIf="f.email.errors.required">Please enter a valid email</div>
                  </div>
                </div>
                <br>
                <div class="col text-center">
                  <button [disabled]="loading" type="submit" name="forgot-password-button" class="btn primary-color-blue-background text-white col-sm-10">
                    <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                    Submit
                  </button>
                </div>
              </form>
              <div class="col text-center mt-1">
                <p>Already have an account?  <a routerLink="/" class="text-info">Login here</a></p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="user">
        <div id="change-password-row" class="row justify-content-center align-items-center">
          <div id="change-password-column" class="col-md-6">
            <div id="change-password-box" class="shadow-lg rounded">
              <form id="change-password-form" [formGroup]="changePasswordForm" (ngSubmit)="changePassword()" class="form">
                <div class="form-group">
                  <label for="newPassword" class="primary-color-blue-text text-sm-left">New Password</label>
                  <input id="newPassword" formControlName="newPassword" type="password" name="newPassword" class="form-control" [ngClass]="{ 'is-invalid': submitted && g.newPassword.errors }" required>
                  <div *ngIf="submitted && g.newPassword.errors" class="invalid-feedback">
                    <div *ngIf="g.newPassword.errors.required">Please enter a valid password (min. 6 characters long)</div>
                  </div>
                </div>
                <div class="form-group">
                  <label for="confirmPassword" class="primary-color-blue-text text-sm-left">Confirm Password</label>
                  <input id="confirmPassword" formControlName="confirmPassword" type="password" name="confirmPassword" class="form-control" [ngClass]="{ 'is-invalid': submitted && g.confirmPassword.errors }" required>
                  <div *ngIf="submitted && g.confirmPassword.errors" class="invalid-feedback">
                    <div *ngIf="g.confirmPassword.errors.required">Passwords do not match</div>
                  </div>
                </div>
                <br>
                <div class="form-group">
                  <button [disabled]="loading" routerLink="/login" (click)="this.alertService.clear()" type="button" name="cancel-button" class="btn btn-danger col-sm-2">Cancel</button>
                  <div class="float-right">
                    <button [disabled]="loading" type="submit" name="change-password-button" class="btn primary-color-blue-background text-white">
                      <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                      Update
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>

